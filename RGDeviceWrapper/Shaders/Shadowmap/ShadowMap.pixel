#include <StdInclude.h>
#include "autoBinder.h"

struct PS_Input
{
	float2 m_UV: TEXCOORD0;
	float4 m_TargetData : TEXCOORD1;
};

void main(PS_Input a_Input)
{
	float4 l_BaseColor = BaseColor.Sample(BaseColorSampler, a_Input.m_UV.xy);
	if( l_BaseColor.w < 0.01 ) clip(-1);

	int4 l_Cast = uint4(a_Input.m_TargetData.xyz, a_Input.m_TargetData.w);
	InterlockedMin(ShadowMap[l_Cast.xyz], l_Cast.w);
}